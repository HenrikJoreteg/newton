{"version":3,"file":"newton.js","sources":["src/body.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/vector.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","simParticles","simEdges","simConstraints","prototype","addTo","Error","push","apply","addParticle","particle","Particle","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","p1","p2","stiffness","distance","getDistance","isDestroyed","category","pos1","position","pos2","diff","clone","sub","getLength","resolve","delta","length","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","Rectangle","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","bounds1","bounds2","set","overlaps","l1","l2","det","contains","scratch","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","rect","containBy","addBody","body","collect","i","ilen","j","jlen","watched","integrate","time","applyTo","constrain","wrap","contain","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","mod","size","lastPosition","lastValidPosition","acceleration","randomDrag","random","randomness","pinned","colliding","copy","drag","min","getSquaredLength","zero","placeAt","destroy","moveBy","dx","dy","subXY","pin","Infinity","setVelocity","right","left","bottom","top","newX","width","newY","height","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","nearest","intersect","oldDistance","newDistance","partOfEdge","wall","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","moveTo","lineTo","setLocation","v1","v2","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","counts","fillText","text","iterations","noop","Simulator","preSimulator","integrationFps","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","start","now","stop","simulate","cull","array","splice","entity","findParticle","radius","found","newLayer","toFixed","mult","multVector","reverse","div","scalar","turnRight","sin","cos","getCross","sqrt","atan2"],"mappings":"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"}