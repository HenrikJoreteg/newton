{"version":3,"file":"newton.js","sources":["src/body.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/vector.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","simParticles","simEdges","simConstraints","prototype","addTo","Error","push","apply","addParticle","particle","Particle","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","p1","p2","stiffness","distance","getDistance","isDestroyed","category","pos1","position","pos2","diff","clone","sub","getLength","resolve","delta","length","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","Rectangle","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","bounds1","bounds2","set","overlaps","l1","l2","det","contains","scratch","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","rect","containBy","addBody","body","collect","i","ilen","j","jlen","watched","integrate","time","applyTo","constrain","wrap","contain","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","mod","size","lastPosition","lastValidPosition","acceleration","randomDrag","random","randomness","pinned","colliding","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","destroy","moveBy","dx","dy","subXY","pin","Infinity","setVelocity","right","left","bottom","top","newX","width","newY","height","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","nearest","intersect","oldDistance","newDistance","partOfEdge","wall","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","lineTo","setLocation","v1","v2","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","map","array","fn","index","result","iterations","getCenterMass","baseAngle","getAverageAngle","deltas","getDeltas","console","log","average","flags","correctedPosition","noop","Simulator","preSimulator","integrationFps","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","start","now","stop","simulate","cull","splice","entity","findParticle","radius","found","newLayer","toFixed","addXY","mult","multVector","reverse","div","scalar","turnRight","sin","cos","getCross","sqrt","atan2"],"mappings":"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"}