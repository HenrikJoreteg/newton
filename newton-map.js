{"version":3,"file":"newton.js","sources":["src/body.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/vector.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","prototype","addTo","Error","addParticles","addEdges","addConstraints","addParticle","particle","push","Particle","apply","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","p1","p2","stiffness","distance","getDistance","isDestroyed","category","priority","pos1","position","pos2","diff","clone","sub","getLength","resolve","delta","length","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","Rectangle","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","bounds1","bounds2","set","overlaps","l1","l2","det","contains","scratch","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","rect","containBy","addBody","body","collect","i","ilen","j","jlen","watched","integrate","time","applyTo","constrain","wrap","contain","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","mod","size","lastPosition","lastValidPosition","acceleration","randomDrag","pinned","colliding","randomness","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","destroy","moveBy","dx","dy","subXY","pin","Infinity","setVelocity","right","left","bottom","top","newX","width","newY","height","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","nearest","intersect","oldDistance","newDistance","partOfEdge","wall","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","lineTo","setLocation","v1","v2","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","iterations","deltas","getDeltas","getCenterMass","len","center","getAngleAbout","angleDelta","getAngleFrom","cos","sin","q","correction","noop","prioritySort","Simulator","preSimulator","integrationFps","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","start","now","stop","simulate","cull","array","splice","entity","sort","findParticle","radius","found","newLayer","toFixed","addXY","mult","multVector","reverse","div","scalar","turnRight","getCross","sqrt","atan2"],"mappings":"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"}