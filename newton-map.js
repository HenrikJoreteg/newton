{"version":3,"file":"newton.js","sources":["src/body.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/simulator.js","src/vector.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","simParticles","simEdges","simConstraints","prototype","addTo","Error","push","apply","addParticle","particle","Particle","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","each","method","args","i","length","callback","exports","p1","p2","stiffness","distance","getDistance","isDestroyed","pos1","position","pos2","diff","clone","sub","getLength","resolve","delta","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","Rectangle","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","bounds1","bounds2","set","overlaps","l1","l2","det","contains","scratch","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","rect","containBy","addBody","body","collect","ilen","j","jlen","watched","integrate","time","applyTo","constrain","wrap","contain","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","mod","size","lastPosition","lastValidPosition","acceleration","randomDrag","random","randomness","pinned","colliding","copy","drag","min","getSquaredLength","zero","placeAt","destroy","moveBy","dx","dy","subXY","pin","Infinity","setVelocity","right","left","bottom","top","newX","width","newY","height","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","nearest","intersect","oldDistance","newDistance","partOfEdge","wall","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","moveTo","lineTo","setLocation","v1","v2","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","closePath","counts","fillText","text","noop","Simulator","preSimulator","integrationFps","iterations","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","start","now","stop","simulate","cull","array","splice","entity","findParticle","radius","found","newLayer","toFixed","mult","multVector","reverse","div","scalar","turnRight","sin","cos","getCross","sqrt","atan2"],"mappings":"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"}