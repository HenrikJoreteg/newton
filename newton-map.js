{"version":3,"file":"newton.js","sources":["src/body.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/vector.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","simParticles","simEdges","simConstraints","prototype","addTo","Error","push","apply","addParticle","particle","Particle","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","p1","p2","stiffness","distance","getDistance","isDestroyed","category","pos1","position","pos2","diff","clone","sub","getLength","resolve","delta","length","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","Rectangle","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","bounds1","bounds2","set","overlaps","l1","l2","det","contains","scratch","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","rect","containBy","addBody","body","collect","i","ilen","j","jlen","watched","integrate","time","applyTo","constrain","wrap","contain","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","mod","size","lastPosition","lastValidPosition","acceleration","randomDrag","pinned","colliding","randomness","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","destroy","moveBy","dx","dy","subXY","pin","Infinity","setVelocity","right","left","bottom","top","newX","width","newY","height","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","nearest","intersect","oldDistance","newDistance","partOfEdge","wall","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","lineTo","setLocation","v1","v2","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","iterations","deltas","getDeltas","getCenterMass","len","center","getAngleAbout","angleDelta","getAngleFrom","cos","sin","q","correction","noop","Simulator","preSimulator","integrationFps","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","start","now","stop","simulate","cull","array","splice","entity","findParticle","radius","found","newLayer","toFixed","addXY","mult","multVector","reverse","div","scalar","turnRight","getCross","sqrt","atan2"],"mappings":"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"}