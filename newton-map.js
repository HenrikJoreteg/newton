{"version":3,"file":"newton.js","sources":["src/constraints/boxconstraint.js","src/constraints/distanceconstraint.js","src/constraints/rigidconstraint.js","src/constraints/wrapconstraint.js","src/core/body.js","src/core/edge.js","src/core/frame.js","src/core/material.js","src/core/particle.js","src/core/simulator.js","src/factories/box.js","src/factories/fabric.js","src/factories/lattice.js","src/factories/squishy.js","src/forces/lineargravity.js","src/forces/radialgravity.js","src/math/rectangle.js","src/math/vector.js","src/render/pixirenderer.js","src/render/renderer.js","src/render/webglrenderer.js"],"names":["Newton","BoxConstraint","left","top","right","bottom","particles","this","rect","Rectangle","prototype","category","priority","addTo","simulator","addConstraints","resolve","time","allParticles","i","len","length","contain","exports","DistanceConstraint","p1","p2","stiffness","distance","getDistance","isDestroyed","pos1","position","pos2","diff","clone","sub","getLength","delta","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","RigidConstraint","iterations","deltas","getDeltas","getCenterMass","center","Vector","add","Array","getAngleAbout","angleDelta","getAngleFrom","cos","Math","sin","q","correction","mod","a","b","WrapConstraint","layer","undefined","particle","pos","newX","width","newY","height","shiftTo","Body","material","edges","constraints","isFree","Error","addParticles","addEdges","ilen","free","addCollisionParticles","addParticle","push","Particle","apply","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","Material","simple","compute","_rect","COLLISION_TOLERANCE","getAbc","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","getProjection","dot","getDot","getAngleDelta","findIntersection","v1","v2","scratch","set","bounds1","bounds2","overlaps","l1","l2","det","contains","dx","dy","wall","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","size","lastPosition","lastValidPosition","acceleration","randomDrag","pinned","colliding","randomness","integrate","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","deltaX","deltaY","addXY","destroy","moveBy","subXY","pin","Infinity","setVelocity","applyForce","force","accelerateVector","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","collide","intersection","bouncePoint","reflectedVelocity","noop","prioritySort","Simulator","callback","renderers","integrationFps","isArray","step","_step","running","fps","frames","countTime","countInterval","accumulator","simulationStep","startTime","layers","forces","collisionParticles","vArg","start","now","stop","simulate","toFixed","totalTime","cull","constrain","updateEdges","array","splice","linked","j","jlen","applyTo","intersect","nearest","ensureLayer","name","entity","entities","shift","link","linkedLayers","split","sort","findParticle","radius","found","addBody","body","bodies","Layer","newLayer","Box","ul","ur","ll","lr","Fabric","spacing","w","h","Lattice","segmentLength","segments","pinLeft","pinRight","nextTop","nextBottom","Squishy","ox","oy","points","current","last","PI","LinearGravity","strength","falloff","rotate","setAngle","setStrength","RadialGravity","setLocation","amount","mult","multVector","reverse","div","scalar","turnRight","getCross","sqrt","atan2","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","sim","clear","drawParticles","drawEdges","drawForces","setText","render","lineStyle","beginFill","drawCircle","endFill","brightness","lineTo","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","getGLContext","canvas","gl","names","e","createShaderProgram","vsText","fsText","vs","createShader","VERTEX_SHADER","fs","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","error","getShaderInfoLog","program","createProgram","attachShader","linkProgram","createCircleTexture","document","createElement","rad","createTexture","data","texture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","generateMipmap","GLRenderer","vertices","sizes","vArray","Float32Array","MAX_PARTICLES","sArray","viewport","viewportArray","initShaders","initBuffers","particleTexture","blendFunc","SRC_ALPHA","ONE","enable","BLEND","POINT_VS","join","LINE_VS","PARTICLE_FS","CONSTRAINT_FS","EDGE_FS","particleShader","uniforms","getUniformLocation","attributes","getAttribLocation","useProgram","uniform2fv","edgeShader","constraintShader","particlePositionBuffer","createBuffer","particleSizeBuffer","edgePositionBuffer","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","activeTexture","TEXTURE0","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","drawArrays","POINTS","LINES"],"mappings":"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"}