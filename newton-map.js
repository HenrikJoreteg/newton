{"version":3,"file":"newton.js","sources":["src/body.js","src/box.js","src/boxconstraint.js","src/distanceconstraint.js","src/edge.js","src/fabric.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/squishy.js","src/vector.js","src/webglrenderer.js","src/wrapconstraint.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","layer","prototype","addTo","Error","addParticles","addEdges","addConstraints","i","ilen","length","addParticle","particle","push","Particle","apply","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","Box","x","y","size","body","ul","ur","ll","lr","BoxConstraint","left","top","right","bottom","rect","Rectangle","category","priority","resolve","time","allParticles","len","contain","p1","p2","stiffness","distance","getDistance","isDestroyed","pos1","position","pos2","diff","clone","sub","getLength","delta","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","y1","x2","y2","Material","simple","compute","_rect","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","v1","v2","scratch","set","bounds1","bounds2","overlaps","l1","l2","det","contains","dx","dy","wall","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","Fabric","width","height","spacing","w","h","pin","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","containBy","addBody","collect","j","jlen","watched","integrate","applyTo","constrain","wrap","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","lastPosition","lastValidPosition","acceleration","randomDrag","pinned","colliding","randomness","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","shiftTo","deltaX","deltaY","addXY","destroy","moveBy","subXY","Infinity","setVelocity","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","intersection","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","lineTo","setLocation","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","iterations","deltas","getDeltas","getCenterMass","center","getAngleAbout","angleDelta","getAngleFrom","cos","sin","q","correction","noop","prioritySort","Simulator","preSimulator","renderers","integrationFps","isArray","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","startTime","vArg","start","now","stop","simulate","totalTime","cull","updateEdges","array","splice","linked","intersect","nearest","ensureLayer","name","entity","entities","shift","link","linkedLayers","split","sort","findParticle","radius","found","newLayer","toFixed","Squishy","ox","oy","points","current","mult","multVector","reverse","div","scalar","turnRight","getCross","sqrt","atan2","getGLContext","canvas","gl","names","e","createShaderProgram","vsText","fsText","vs","createShader","VERTEX_SHADER","fs","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","console","error","getShaderInfoLog","program","createProgram","attachShader","linkProgram","createCircleTexture","document","createElement","rad","createTexture","data","texture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","generateMipmap","GLRenderer","vertices","sizes","vArray","Float32Array","MAX_PARTICLES","sArray","viewport","viewportArray","initShaders","initBuffers","particleTexture","blendFunc","SRC_ALPHA","ONE","enable","BLEND","POINT_VS","join","LINE_VS","PARTICLE_FS","CONSTRAINT_FS","EDGE_FS","particleShader","uniforms","getUniformLocation","attributes","getAttribLocation","useProgram","uniform2fv","edgeShader","constraintShader","particlePositionBuffer","createBuffer","particleSizeBuffer","edgePositionBuffer","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","activeTexture","TEXTURE0","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","drawArrays","POINTS","LINES","mod","WrapConstraint","newX","newY"],"mappings":"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"}