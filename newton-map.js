{"version":3,"file":"newton.js","sources":["src/body.js","src/boxconstraint.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/vector.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","prototype","addTo","Error","addParticles","addEdges","addConstraints","addParticle","particle","push","Particle","apply","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","BoxConstraint","left","top","right","bottom","rect","Rectangle","category","priority","resolve","time","allParticles","i","len","length","contain","p1","p2","stiffness","distance","getDistance","isDestroyed","pos1","position","pos2","diff","clone","sub","getLength","delta","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","bounds1","bounds2","set","overlaps","l1","l2","det","contains","scratch","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","containBy","addBody","body","collect","ilen","j","jlen","watched","integrate","applyTo","constrain","wrap","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","mod","size","lastPosition","lastValidPosition","acceleration","randomDrag","pinned","colliding","randomness","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","destroy","moveBy","dx","dy","subXY","pin","Infinity","setVelocity","newX","width","newY","height","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","nearest","intersect","oldDistance","newDistance","partOfEdge","wall","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","lineTo","setLocation","v1","v2","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","iterations","deltas","getDeltas","getCenterMass","center","getAngleAbout","angleDelta","getAngleFrom","cos","sin","q","correction","noop","prioritySort","Simulator","preSimulator","integrationFps","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","start","now","stop","simulate","cull","array","splice","entity","sort","findParticle","radius","found","newLayer","toFixed","addXY","mult","multVector","reverse","div","scalar","turnRight","getCross","sqrt","atan2"],"mappings":"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"}