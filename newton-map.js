{"version":3,"file":"newton.js","sources":["src/body.js","src/boxconstraint.js","src/distanceconstraint.js","src/edge.js","src/frame.js","src/layer.js","src/lineargravity.js","src/material.js","src/particle.js","src/pixirenderer.js","src/radialgravity.js","src/rectangle.js","src/renderer.js","src/rigidconstraint.js","src/simulator.js","src/vector.js","src/webglrenderer.js","src/wrapconstraint.js"],"names":["Newton","Body","material","this","particles","edges","constraints","simulator","undefined","layer","prototype","addTo","Error","addParticles","addEdges","addConstraints","i","ilen","length","addParticle","particle","push","Particle","apply","Array","slice","call","arguments","addEdge","edge","Edge","addConstraint","constraint","DistanceConstraint","RigidConstraint","exports","BoxConstraint","left","top","right","bottom","rect","Rectangle","category","priority","resolve","time","allParticles","len","contain","p1","p2","stiffness","distance","getDistance","isDestroyed","pos1","position","pos2","diff","clone","sub","getLength","delta","invmass1","getMass","invmass2","factor","correction1","scale","correction2","correct","getCoords","x1","x","y1","y","x2","y2","Material","simple","compute","_rect","COLLISION_TOLERANCE","getAbc","a","b","c","anchor","vector","angle","getAngle","normal","turnLeft","unit","bounds","fromVectors","expand","getRepelled","Vector","add","getProjection","dot","getDot","getAngleDelta","findIntersection","v1","v2","scratch","set","bounds1","bounds2","overlaps","l1","l2","det","contains","dx","dy","wall","getReflection","velocity","restitution","dir","friction","velN","multScalar","velT","reflectedVel","timeoutFrame","currTime","Date","getTime","timeToCall","Math","max","lastTime","id","setTimeout","cancelTimeoutFrame","clearTimeout","window","vendors","isOpera","opera","navigator","userAgent","indexOf","Object","toString","HTMLElement","chrome","requestAnimationFrame","cancelAnimationFrame","frame","bind","cancelFrame","Layer","bodies","forces","watchedLayers","wrapper","container","cachedParticles","cachedForces","cachedEdges","respondTo","layers","addForce","force","wrapIn","containBy","addBody","body","collect","j","jlen","watched","integrate","applyTo","constrain","wrap","collide","LinearGravity","strength","falloff","rotate","setAngle","setStrength","accelerateVector","options","weight","maxVelocity","maxVelocitySquared","setMaxVelocity","v","size","lastPosition","lastValidPosition","acceleration","randomDrag","pinned","colliding","randomness","copy","drag","min","getSquaredLength","zero","placeAt","moveTo","shiftTo","deltaX","deltaY","addXY","destroy","moveBy","subXY","pin","Infinity","setVelocity","applyForce","mass","getSquaredSpeed","attractSquare","m","minDist","r","f","ratio","intersection","bouncePoint","reflectedVelocity","rgbToHex","g","PixiRenderer","el","width","height","stage","PIXI","Stage","setInteractive","renderer","autoDetectRenderer","view","style","display","appendChild","infoText","Text","fill","font","addChild","graphics","Graphics","callback","sim","clear","drawParticles","drawEdges","drawForces","setText","fps","render","lineStyle","RadialGravity","beginFill","drawCircle","endFill","pos","last","brightness","lineTo","setLocation","amount","Renderer","ctx","getContext","drawConstraints","drawCounts","drawFPS","save","fillStyle","fillRect","restore","lineWidth","strokeStyle","beginPath","arc","PI","lineCap","lineJoin","stroke","coords","closePath","centerMass","counts","fillText","text","iterations","deltas","getDeltas","getCenterMass","center","getAngleAbout","angleDelta","getAngleFrom","cos","sin","q","correction","noop","prioritySort","Simulator","preSimulator","renderers","integrationFps","isArray","step","_step","running","frames","countTime","countInterval","accumulator","simulationStep","vArg","start","now","stop","simulate","cull","array","splice","linked","console","log","intersect","nearest","ensureLayer","name","entity","link","linkedLayers","split","sort","findParticle","radius","found","newLayer","toFixed","mult","multVector","reverse","div","scalar","turnRight","getCross","sqrt","atan2","getGLContext","canvas","gl","names","e","createShaderProgram","vsText","fsText","vs","createShader","VERTEX_SHADER","fs","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","error","getShaderInfoLog","program","createProgram","attachShader","linkProgram","createCircleTexture","document","createElement","rad","createTexture","data","texture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","generateMipmap","GLRenderer","vertices","sizes","vArray","Float32Array","MAX_PARTICLES","sArray","viewport","viewportArray","initShaders","initBuffers","particleTexture","blendFunc","SRC_ALPHA","ONE","enable","BLEND","PARTICLE_VS","join","PARTICLE_FS","EDGE_VS","EDGE_FS","particleShader","uniforms","getUniformLocation","attributes","getAttribLocation","edgeShader","useProgram","uniform2fv","particlePositionBuffer","createBuffer","particleSizeBuffer","edgePositionBuffer","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","activeTexture","TEXTURE0","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","vertexAttribPointer","FLOAT","enableVertexAttribArray","drawArrays","POINTS","LINES","mod","WrapConstraint","newX","newY"],"mappings":"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"}